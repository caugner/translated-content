---
title: 'Eine Thunderbird-Erweiterung programmieren 6: JavaScript hinzufügen'
slug: >-
  Mozilla/Thunderbird/Thunderbird_extensions/Eine_Thunderbird-Erweiterung_programmieren_6:_Javascript_hinzufuegen
translation_of: >-
  Mozilla/Thunderbird/Thunderbird_extensions/Building_a_Thunderbird_extension_6:_Adding_Javascript
---
<p>{{AddonSidebar}}</p>

<p><span class="tlid-translation translation"><span title="">In diesem Schritt erstellen wir ein kleines Stück JavaScript-Code, der das aktuelle Datum ins Statusleisten-Widget einfügt.</span></span> <span class="tlid-translation translation"><span title="">Die Statusleiste wird normalerweise am unteren Rand des Thunderbird-Fensters angezeigt. Je nach installiertem </span></span><a class="external" href="http://addons.mozilla.org/en-US/thunderbird/themes/" title="http://addons.mozilla.org/en-US/thunderbird/themes/">Theme</a> <span class="tlid-translation translation"><span title="">sieht das Ergebnis etwa so aus:</span></span></p>

<p style="margin-left: 40px;"><a href="/@api/deki/files/5567/=current_date.png" title="current_date.png"><img alt="current_date.png" class="default internal" src="/@api/deki/files/5567/=current_date.png?size=webview" style="height: 25px; width: 102px;"></a></p>

<p><strong>XUL Elemente mit JavaScript modifizieren</strong></p>

<div class="text-wrap tlid-copy-target">
<div class="result-shield-container tlid-copy-target"><span class="tlid-translation translation"><span title="">Speichere den folgenden JavaScript-Code im <strong>content</strong>/ Ordner neben der Datei <strong><code>myhelloworld.xul</code></strong> und nenne ihn <code><strong>overlay.js</strong></code>.</span></span></div>
</div>

<pre class="brush: js">window.addEventListener("load", function(e) {
	startup();
}, false);

window.setInterval(
	function() {
		startup();
	}, 60000); //Aktualisiert das Datum jede Minute

function startup() {
	var myPanel = document.getElementById("my-panel");
	var date = new Date();
	var day = date.getDay();
	var dateString = date.getFullYear() + "." + (date.getMonth()+1) + "." + date.getDate();
	myPanel.label = "Date: " + dateString;
}</pre>

<p><span class="tlid-translation translation"><span title="">Der erste Teil registriert einen neuen Ereignis-Listener, der beim Laden von Thunderbird automatisch ausgeführt wird.</span></span> <span class="tlid-translation translation"><span title="">Der Ereignis-Listener ruft dann die <code>Startup</code>-Funktion auf, die unser <code>&lt;statusbarpanel&gt;</code> -Element mit der ID <strong>my-panel </strong>aus dem DOM-Tree des Dokuments erhält.</span></span><span class="tlid-translation translation"><span title="">Dann verwendet es die <code>Date</code>-Klasse von JavaScript, um das aktuelle Datum abzurufen, das in eine String konvertiert wird, der das Format <em>YYYY.MM.DD</em> hat.Da der Monat nullbasiert ist, müssen wir beim Monat eins addieren.</span></span> <span class="tlid-translation translation"><span title="">Schließlich wird das Label unseres Panels auf "Date:" gesetzt und mit der Datums-String verkettet, die das formatierte Datum enthält.</span></span></p>

<p><span class="tlid-translation translation"><span title="">Wir verwenden die Funktion </span></span><a href="/en/DOM/window.setInterval" title="https://developer.mozilla.org/en/DOM/window.setInterval"><strong><code>window.setInterval</code></strong></a><span class="tlid-translation translation"><span title="">, um das Datum zu aktualisieren, falls Thunderbird länger als einen Tag läuft.</span></span>. <span class="tlid-translation translation"><span title="">Dadurch können wir die <code>Startup</code>-Funktion wiederholt mit einem Intervall von 60000 ms (jede Minute) aufrufen.</span></span></p>

<h3 id="Weitere_Dokumentation">Weitere Dokumentation</h3>

<p><span class="tlid-translation translation"><span title="">Weitere Funktionen für die DOM-Objekte findest du unter:</span></span></p>

<ul>
 <li><strong><a href="/en/DOM/window" title="en/DOM/Window">DOM/Window</a></strong> (<span class="tlid-translation translation"><span title="">API-Referenz für das Window-Objekt</span></span>)</li>
 <li><strong><a href="/en/DOM/document" title="en/DOM/Document">DOM/Document</a></strong> (<span class="tlid-translation translation"><span title="">API-Referenz für das Document-Objekt</span></span>)</li>
 <li><strong><a href="/en/Gecko_DOM_Reference" title="https://developer.mozilla.org/en/Gecko_DOM_Reference">Gecko DOM Reference</a></strong> (<span class="tlid-translation translation"><span title="">Übersicht aller DOM-Objekte in Gecko</span></span>)</li>
</ul>

<p><span class="tlid-translation translation"><span title="">Das </span></span><strong><a class="external" href="http://www.addedbytes.com/cheat-sheets/javascript-cheat-sheet/" title="http://www.addedbytes.com/cheat-sheets/javascript-cheat-sheet/">Javascript Cheat Sheet</a></strong><span class="tlid-translation translation"><span title=""> kann auch sehr nützlich sein.</span></span></p>

<p>{{ PreviousNext("Mozilla/Thunderbird/Thunderbird_extensions/Ein_Thunderbird_Addon_programmieren_5:_XUL", "Mozilla/Thunderbird/Thunderbird_extensions/Building_a_Thunderbird_extension_7:_Installation") }}</p>
